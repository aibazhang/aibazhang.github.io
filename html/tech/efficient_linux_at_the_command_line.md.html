<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.13.2/dist/style.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@6.7.0"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.13.5"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.13.2/dist/index.umd.min.js"></script><script>(r => {
          setTimeout(r);
        })(() => {
  const {
    markmap,
    mm
  } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root, jsonOptions) => {
        const markmap = getMarkmap();
        window.mm = markmap.Markmap.create('svg#mindmap', (getOptions || markmap.deriveOptions)(jsonOptions), root);
      })(() => window.markmap,null,{"type":"heading","depth":0,"payload":{"lines":[0,1]},"content":"Efficient Linux at the Command Line","children":[{"type":"heading","depth":1,"payload":{"lines":[2,3]},"content":"Ch. 02 Intrudcing the Shell","children":[{"type":"list_item","depth":2,"payload":{"lines":[4,5]},"content":"sqaure brackets <code>[1-5]</code> in fish: <code>(seq 1 5)</code>"},{"type":"list_item","depth":2,"payload":{"lines":[5,6]},"content":"The shell performs the pattern matching, not the invoked program"},{"type":"list_item","depth":2,"payload":{"lines":[6,7]},"content":"Shell pattern matching applies only to file and directory. It doesn't work for usernames, hostnames, and the other type of arguments that ceratin command accept"},{"type":"list_item","depth":2,"payload":{"lines":[7,8]},"content":"redirecting input and output","children":[{"type":"list_item","depth":3,"payload":{"lines":[8,9]},"content":"<code>wc animals.txt</code> <code>wc</code> is aware that the file exists"},{"type":"list_item","depth":3,"payload":{"lines":[9,10]},"content":"<code>wc &lt; animals.txt</code> <code>wc</code> reads from stdin, has no idea that the file exists"}]},{"type":"list_item","depth":2,"payload":{"lines":[10,11]},"content":"disabling evaluation with quotes and escapes","children":[{"type":"list_item","depth":3,"payload":{"lines":[11,12]},"content":"difference between double and signle qoutes","children":[{"type":"list_item","depth":4,"payload":{"lines":[12,13]},"content":"double: <code>echo &quot;my home is $HOME&quot;</code> my home is /home/jc"},{"type":"list_item","depth":4,"payload":{"lines":[13,14]},"content":"single: <code>echo 'my home is $HOME'</code> my home is $HOME"}]},{"type":"list_item","depth":3,"payload":{"lines":[14,15]},"content":"escape from alias also could use <code>\\</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[15,16]},"content":"locating programs to be run","children":[{"type":"list_item","depth":3,"payload":{"lines":[16,17]},"content":"bash <code>echo $PATH | tr : &quot;\\n&quot;</code>"},{"type":"list_item","depth":3,"payload":{"lines":[17,18]},"content":"fish <code>echo $PATH | string split &quot; &quot;</code>"},{"type":"list_item","depth":3,"payload":{"lines":[18,19]},"content":"shell searches for a command by name, it checks if that name is an alias before checking the serach path"}]}]},{"type":"heading","depth":1,"payload":{"lines":[20,21]},"content":"Ch. 03 Rerunning Commands","children":[{"type":"list_item","depth":2,"payload":{"lines":[22,23]},"content":"The shell default is Emacs-style"}]},{"type":"heading","depth":1,"payload":{"lines":[25,26]},"content":"Ch. 04 Cruising the Filesystem","children":[{"type":"list_item","depth":2,"payload":{"lines":[27,28]},"content":"Use <code>CDPATH</code> for rapid navigation"},{"type":"list_item","depth":2,"payload":{"lines":[28,29]},"content":"toggle among many directories with pushh and popd"}]},{"type":"heading","depth":1,"payload":{"lines":[31,32]},"content":"Ch. 05 Expanding Your Toolbox","children":[{"type":"list_item","depth":2,"payload":{"lines":[33,34]},"content":"brace expansion <code>{1..10}</code> in fish <code>(seq 10)</code>","children":[{"type":"list_item","depth":3,"payload":{"lines":[34,35]},"content":"fish's philosophy: replacing magical syntax with conrete commands"}]},{"type":"list_item","depth":2,"payload":{"lines":[35,36]},"content":"page 77","children":[{"type":"list_item","depth":3,"payload":{"lines":[36,37]},"content":"<code>cut -d: -f7 /etc/passwd | sort -u | grep -f /etc/shells -F</code>"},{"type":"list_item","depth":3,"payload":{"lines":[37,38]},"content":"<code>grep -f /etc/shells -F</code> didn't work, because the commentout ?"}]},{"type":"list_item","depth":2,"payload":{"lines":[38,39]},"content":"extract 4th line of a file","children":[{"type":"list_item","depth":3,"payload":{"lines":[39,40]},"content":"<code>head -n4 alphabet | tail -n1</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[40,41]},"content":"awk","children":[{"type":"list_item","depth":3,"payload":{"lines":[41,42]},"content":"print 4th column and remove the head","children":[{"type":"list_item","depth":4,"payload":{"lines":[42,43]},"content":"<code>df | awk 'FNR&gt;1 {print $4}'</code>"}]},{"type":"list_item","depth":3,"payload":{"lines":[43,44]},"content":"combine with regex","children":[{"type":"list_item","depth":4,"payload":{"lines":[44,45]},"content":"<code>echo Efficient fun::::::Linux | awk -F':*' '{print $2}'</code>"}]}]},{"type":"list_item","depth":2,"payload":{"lines":[45,46]},"content":"combining text","children":[{"type":"list_item","depth":3,"payload":{"lines":[46,47]},"content":"<code>tac</code> reverses the lines of each file"},{"type":"list_item","depth":3,"payload":{"lines":[47,48]},"content":"<code>paste</code> combines file side by side"},{"type":"list_item","depth":3,"payload":{"lines":[48,49]},"content":"print diff line of two files  <code>diff file1 file2 | grep '^[&lt;&gt;]' | cut -c3-</code>","children":[{"type":"list_item","depth":4,"payload":{"lines":[49,50]},"content":"remove other parts except the text"}]}]},{"type":"list_item","depth":2,"payload":{"lines":[50,51]},"content":"transforming text","children":[{"type":"list_item","depth":3,"payload":{"lines":[51,52]},"content":"<code>tr</code> translates one set of characters into another","children":[{"type":"list_item","depth":4,"payload":{"lines":[52,53]},"content":"remove spaces and tabs <code>echo Efficient Linux | tr -d ' \\t'</code>"}]},{"type":"list_item","depth":3,"payload":{"lines":[53,54]},"content":"<code>rev</code> reverses the characters of each line of input","children":[{"type":"list_item","depth":4,"payload":{"lines":[54,55]},"content":"extract last word of each line <code>rev celebrities | cut -d' ' -f1 | rev</code>"},{"type":"list_item","depth":4,"payload":{"lines":[55,56]},"content":"do the same thing with awk <code>awk '{print $NF}' celebrities</code>"},{"type":"list_item","depth":4,"payload":{"lines":[56,57]},"content":"do the same thing with sed <code>sed 's/.* //g' celebrities</code>","children":[{"type":"list_item","depth":5,"payload":{"lines":[57,58]},"content":"<code>.*</code>: match all characters up to the last space and replace them with nothing"}]}]}]}]},{"type":"heading","depth":1,"payload":{"lines":[59,60]},"content":"Ch. 06 Parents, Children, and Environments","children":[{"type":"list_item","depth":2,"payload":{"lines":[61,62]},"content":"A shell is just an ordinary program like <code>ls</code> or <code>cat</code>"},{"type":"list_item","depth":2,"payload":{"lines":[62,63]},"content":"Any changes to the parent won't affect its children that already running.","children":[{"type":"list_item","depth":3,"payload":{"lines":[63,64]},"content":"But can affect its future children"}]},{"type":"list_item","depth":2,"payload":{"lines":[64,65]},"content":"environment variables","children":[{"type":"list_item","depth":3,"payload":{"lines":[65,66]},"content":"local variables: local to a single shell"},{"type":"list_item","depth":3,"payload":{"lines":[66,67]},"content":"environment variables: copied from a given shell to all of its children"}]},{"type":"list_item","depth":2,"payload":{"lines":[67,68]},"content":"Launch a new shell anytime and change anything in its environment, and all the changes disappear when you exit the shell","children":[{"type":"list_item","depth":3,"payload":{"lines":[68,69]},"content":"you can experiment with shell features safely"},{"type":"list_item","depth":3,"payload":{"lines":[69,70]},"content":"run a shell manuyally"},{"type":"list_item","depth":3,"payload":{"lines":[70,71]},"content":"creating a child"},{"type":"list_item","depth":3,"payload":{"lines":[71,72]},"content":"terminate it"}]},{"type":"list_item","depth":2,"payload":{"lines":[72,73]},"content":"child shells vs. subshells","children":[{"type":"list_item","depth":3,"payload":{"lines":[73,74]},"content":"child does not receive copies of the parent's aliases"},{"type":"list_item","depth":3,"payload":{"lines":[74,75]},"content":"subshell is a complete copy of its parent","children":[{"type":"list_item","depth":4,"payload":{"lines":[75,76]},"content":"command susstitutions not allowed in fish"}]}]},{"type":"list_item","depth":2,"payload":{"lines":[76,77]},"content":"configuring your environment","children":[{"type":"list_item","depth":3,"payload":{"lines":[77,78]},"content":"better to use <code>fish_add_path</code> to add path in fish"},{"type":"list_item","depth":3,"payload":{"lines":[78,79]},"content":"https://zenn.dev/estra/articles/zenn-fish-add-path-final-answer"}]}]},{"type":"heading","depth":1,"payload":{"lines":[80,81]},"content":"Ch. 07 More Ways to Run a Command","children":[{"type":"list_item","depth":2,"payload":{"lines":[82,83]},"content":"#1 conditional lists","children":[{"type":"list_item","depth":3,"payload":{"lines":[83,84]},"content":"<code>cd dir || mkdir dir &amp;&amp; cd dir</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[84,85]},"content":"#2 uncondition lists","children":[{"type":"list_item","depth":3,"payload":{"lines":[85,86]},"content":"reminder system, sleeping for 5 minutes and then sending me an email"},{"type":"list_item","depth":3,"payload":{"lines":[86,87]},"content":"<code>sleep 300; echo &quot;rember to walk the dog&quot; | mail -s reminder $USER</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[87,88]},"content":"#3 command substitution: a command is replaced by its output","children":[{"type":"list_item","depth":3,"payload":{"lines":[88,89]},"content":"move files to subdirectory with Artist: Kansas (fish)","children":[{"type":"list_item","depth":4,"payload":{"lines":[89,90]},"content":"<code>mv (grep -l &quot;Artist: Kansas&quot; *.txt) kansas/</code>"},{"type":"list_item","depth":4,"payload":{"lines":[90,91]},"content":"bash need the <code>$</code>"}]},{"type":"list_item","depth":3,"payload":{"lines":[91,92]},"content":"set result to a variable","children":[{"type":"list_item","depth":4,"payload":{"lines":[92,93]},"content":"fish <code>set kasasFiles (grep -l &quot;Artist: Kansas&quot; *.txt)</code>"},{"type":"list_item","depth":4,"payload":{"lines":[93,94]},"content":"bash <code>kasasFiles=$(grep -l &quot;Artist: Kansas&quot; *.txt)</code>"}]}]},{"type":"list_item","depth":2,"payload":{"lines":[94,95]},"content":"#4 process substitution: a command is replaced by a file (sort of)","children":[{"type":"list_item","depth":3,"payload":{"lines":[95,96]},"content":"fish <code>diff (ls -1 | sort -n | psub) (seq 1 1000 | sed 's/$/.jpg/' | psub)</code>"},{"type":"list_item","depth":3,"payload":{"lines":[96,97]},"content":"bash <code>diff &lt;(ls -1 | sort -n) &lt;(seq 1 1000 | sed 's/$/.jpg/')</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[97,98]},"content":"#5 passing a command as an argument to bash","children":[{"type":"list_item","depth":3,"payload":{"lines":[98,99]},"content":"execute some commands but not change the dir"},{"type":"list_item","depth":3,"payload":{"lines":[99,100]},"content":"<code>touch /tmp/badfile</code>"},{"type":"list_item","depth":3,"payload":{"lines":[100,101]},"content":"<code>bash -c &quot;cd /tmp &amp;&amp; rm badfile&quot;</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[101,102]},"content":"#6: piping a command to bash","children":[{"type":"list_item","depth":3,"payload":{"lines":[102,103]},"content":"<code>echo &quot;ls -l&quot; | bash</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[103,104]},"content":"#7 executing a string remotely with ssh","children":[{"type":"list_item","depth":3,"payload":{"lines":[104,105]},"content":"<code>echo &quot;ls &gt; outfile&quot; | ssh myhost.example.com</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[105,106]},"content":"#8 running a list of commands with xargs","children":[{"type":"list_item","depth":3,"payload":{"lines":[106,107]},"content":"safety with find and xargs: <code>find . -type f -print0 | xargs -0 wc -l</code>","children":[{"type":"list_item","depth":4,"payload":{"lines":[107,108]},"content":"use <code>-0</code> specify input separators"}]},{"type":"list_item","depth":3,"payload":{"lines":[108,109]},"content":"ls | xargs -I XYZ echo XYZ is my favorite food","children":[{"type":"list_item","depth":4,"payload":{"lines":[109,110]},"content":"<code>XYZ</code> is place holder"}]}]},{"type":"list_item","depth":2,"payload":{"lines":[110,111]},"content":"#9 backgrounding a command","children":[{"type":"list_item","depth":3,"payload":{"lines":[111,112]},"content":"saving time: suspend the editor (Ctrl + Z)"},{"type":"list_item","depth":3,"payload":{"lines":[112,113]},"content":"test your code"},{"type":"list_item","depth":3,"payload":{"lines":[113,114]},"content":"resume the editor (<code>fg</code>)"}]},{"type":"list_item","depth":2,"payload":{"lines":[114,115]},"content":"#10 explicit sub shells"}]},{"type":"heading","depth":1,"payload":{"lines":[116,117]},"content":"Ch. 08 Building a Brash One-Liner","children":[{"type":"list_item","depth":2,"payload":{"lines":[118,119]},"content":"inserting a fiename into sequence","children":[{"type":"list_item","depth":3,"payload":{"lines":[119,120]},"content":"<code>paste (seq -w 10 -1 3 | sed 's/\\(.*\\)/ch\\1.asciidoc/' | psub) (seq -w 11 -1 4 | sed 's/\\(.*\\)/ch\\1.asciidoc/' | psub) | sed 's/^/mv /' | bash</code>"},{"type":"list_item","depth":3,"payload":{"lines":[120,121]},"content":"copy and paste whole line","children":[{"type":"list_item","depth":4,"payload":{"lines":[121,122]},"content":"<code>Ctrl + A</code>"},{"type":"list_item","depth":4,"payload":{"lines":[122,123]},"content":"<code>Ctrl + K</code>"},{"type":"list_item","depth":4,"payload":{"lines":[123,124]},"content":"<code>Ctrl + Y</code>"}]}]},{"type":"list_item","depth":2,"payload":{"lines":[124,125]},"content":"checking matched pairs of files","children":[{"type":"list_item","depth":3,"payload":{"lines":[125,126]},"content":"<code>diff (ls *.jpg | sed 's/\\.[^.]*$//' | psub) (ls *.txt | sed 's/\\.[^.]*$//' | psub) | grep '^[&lt;&gt;]' \\ | awk '/^&lt;/{print $2 &quot;.jpg&quot;} /^&gt;/{print $2 &quot;.txt&quot;}'</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[126,127]},"content":"generating a CDPATH from your home directory","children":[{"type":"list_item","depth":3,"payload":{"lines":[127,128]},"content":"<code>echo 'CDPATH=$HOME' (ls -d */ | sed -e 's@^@$HOME/@g' -e 's@/$@@') | tr ' ' ':'</code>"}]},{"type":"list_item","depth":2,"payload":{"lines":[128,129]},"content":"generating test files","children":[{"type":"list_item","depth":3,"payload":{"lines":[129,130]},"content":"<code>shuf -n (random) -o (pwgen -N1 10).txt /usr/share/dict/words</code>"}]}]},{"type":"heading","depth":1,"payload":{"lines":[131,132]},"content":"Ch. 09 Leveraging Text Files","children":[{"type":"list_item","depth":2,"payload":{"lines":[133,134]},"content":"finding files","children":[{"type":"list_item","depth":3,"payload":{"lines":[134,135]},"content":"<code>find $HOME -print &gt; ~/.ALLFILES</code>"},{"type":"list_item","depth":3,"payload":{"lines":[135,136]},"content":"add fish function <code>grep $argv $HOME/.ALLFILES</code>"}]}]}]},null)</script>
</body>
</html>
